(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4856"],{"3ad6":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-page"},[s("div",{staticClass:"banner"},[t.article.isLoaded?s("div",{staticClass:"container"},[s("h1",[t._v(t._s(t.article.data.title))]),s("ArticleInfo",{attrs:{article:t.article.data}})],1):s("div",{staticClass:"container"},[t._v("Is loading...")])]),s("div",{staticClass:"container page"},[s("div",{staticClass:"row article-content"},[t.article.isLoaded?s("div",{staticClass:"col-md-12"},[t._v(t._s(t.article.data.body))]):s("div",[t._v("Is loading...")])]),s("hr")]),t.isLogin&&t.articleSlug?[s("CommentEditor",{attrs:{slug:t.article.data.slug,author:t.article.data.author}})]:t._e(),t.articleSlug&&t.allComments?[s("CommentList",{attrs:{comments:t.allComments,slug:t.article.data.slug}})]:t._e()],2)},a=[],i=s("093f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.article?s("div",{staticClass:"article-data"},[s("span",[s("img",{attrs:{src:t.article.author.image}})]),s("div",{staticClass:"info"},[s("span",{staticClass:"author"},[t._v(t._s(t.article.author.username))]),s("span",{staticClass:"date"},[t._v(t._s(" "+new Date(t.article.createdAt).toLocaleDateString()+" ")+t._s(new Date(t.article.createdAt).toLocaleTimeString()))])]),t.isAuthor?[s("span",[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",staticStyle:{"margin-right":"10px"},attrs:{to:{name:"Editor",params:{slug:t.article.slug}}}},[t._v("Edit Article")]),s("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:t.deleteArticle}},[t._v("Delete Article")])],1)]:[t.isArticleUser.user.following?t.isArticleUser.user.following?s("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.unfollow()}}},[t._v("UnFollow "+t._s(t.article.author.username))]):t._e():s("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.follow()}}},[t._v("Follow "+t._s(t.article.author.username))])]],2):t._e()},o=[],c={props:{article:{type:Object,required:!0}},computed:{isAuthor:function(){return this.$store.state.isLogin?this.$store.state.user.username===this.article.author.username:null},isArticleUser:function(){return this.$store.state.articleUser}},mounted:function(){this.$store.dispatch(i["h"],this.article.author.username)},methods:{deleteArticle:function(){var t=this;this.$store.dispatch(i["c"],this.article.slug).then((function(){t.$router.push({name:"Home"})}))},follow:function(){this.$store.state.isLogin?this.$store.dispatch(i["e"],this.article.author.username):this.$router.push({name:"SignIn"})},unfollow:function(){this.$store.dispatch(i["n"],this.article.author.username)}}},l=c,u=s("2877"),m=Object(u["a"])(l,r,o,!1,null,null,null),d=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[s("div",{staticClass:"container card comment-form"},[s("div",{staticClass:"card-block"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{placeholder:"Any Comment",rows:"3"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),s("div",{staticClass:"card-footer"},[s("span",[t._v(t._s(t.user.username))]),s("button",{staticClass:"btn btn-sm btn-primary"},[t._v("Add Comment")])])])])},p=[],g={props:{slug:{type:String,default:""}},data:function(){return{comment:""}},methods:{addComment:function(){var t=this.slug,e=this.comment;this.$store.dispatch(i["a"],{slug:t,comment:e}),this.comment=""}},computed:{user:function(){return this.$store.state.user}}},f=g,v=Object(u["a"])(f,h,p,!1,null,null,null),C=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.comments.data.comments&&t.comments.data.comments.length?s("div",{staticClass:"cards"},t._l(t.comments.data.comments,(function(e){return s("Comment",{key:e.id,staticClass:"card",attrs:{slug:t.slug,comment:e}})})),1):t._e()},b=[],$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container card bg-light"},[s("div",{staticClass:"card-block"},[s("p",{staticClass:"card-text"},[t._v(t._s(t.comment.body))])]),s("div",{staticClass:"card-footer"},[s("span",{staticClass:"text-right"},[t._v(t._s(t.commentAuthor))]),s("span",{staticClass:"date-posted text-muted"},[t._v(t._s(new Date(t.comment.createdAt).toLocaleDateString()+" ")+t._s(new Date(t.comment.createdAt).toLocaleTimeString()))]),t.commentAuthor===t.user?s("button",{staticClass:"btn btn-danger mod-options",on:{click:t.deleteComment}},[t._v("Delete Comment")]):t._e()])])},w=[],A={props:{slug:{type:String,required:!0},comment:{type:Object,required:!0}},computed:{commentAuthor:function(){return this.comment.author.username},user:function(){return this.$store.state.isLogin?this.$store.state.user.username:null}},methods:{deleteComment:function(){var t=this.slug,e=this.comment;this.$store.dispatch(i["d"],{slug:t,id:e.id})}}},y=A,L=Object(u["a"])(y,$,w,!1,null,null,null),S=L.exports,k={components:{Comment:S},props:{comments:{type:Object,default:function(){return{}}},slug:{type:String,default:""}}},x=k,D=Object(u["a"])(x,_,b,!1,null,null,null),E=D.exports,j={components:{ArticleInfo:d,CommentEditor:C,CommentList:E},props:["slug"],mounted:function(){this.$store.dispatch(i["f"],this.slug),this.$store.dispatch(i["i"],{slug:this.slug})},computed:{article:function(){return this.$store.state.article},isLogin:function(){return this.$store.state.isLogin},articleSlug:function(){return this.article&&this.article.data?this.$store.state.article.data.slug:null},allComments:function(){return this.$store.state.comments}}},O=j,I=Object(u["a"])(O,n,a,!1,null,null,null);e["default"]=I.exports}}]);
//# sourceMappingURL=chunk-2d0c4856.20719782.js.map